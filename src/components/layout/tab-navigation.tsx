import { cn } from "@/lib/utils"

// Компонент для иконки Меню
const MenuIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="38" height="37" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M30.7204 8.94629V24.9463C30.7204 25.2115 30.6106 25.4659 30.4153 25.6534C30.2199 25.8409 29.955 25.9463 29.6787 25.9463H21.3454C20.2403 25.9463 19.1805 26.3677 18.3991 27.1179C17.6177 27.868 17.1787 28.8854 17.1787 29.9463V11.9463C17.1787 10.8854 17.6177 9.86801 18.3991 9.11786C19.1805 8.36772 20.2403 7.94629 21.3454 7.94629H29.6787C29.955 7.94629 30.2199 8.05165 30.4153 8.23918C30.6106 8.42672 30.7204 8.68107 30.7204 8.94629Z"
      fill={isActive ? "#4995FF" : "none"}
      fillOpacity={isActive ? "0.3" : "1"}
    />
    <path
      d="M29.6788 6.94629H21.3455C20.5369 6.94629 19.7394 7.12701 19.0162 7.47415C18.293 7.82129 17.6639 8.32531 17.1788 8.94629C16.6937 8.32531 16.0646 7.82129 15.3414 7.47415C14.6182 7.12701 13.8207 6.94629 13.0121 6.94629H4.67879C4.12626 6.94629 3.59635 7.157 3.20565 7.53208C2.81495 7.90715 2.59546 8.41586 2.59546 8.94629V24.9463C2.59546 25.4767 2.81495 25.9854 3.20565 26.3605C3.59635 26.7356 4.12626 26.9463 4.67879 26.9463H13.0121C13.8409 26.9463 14.6358 27.2624 15.2218 27.825C15.8079 28.3876 16.1371 29.1506 16.1371 29.9463C16.1371 30.2115 16.2469 30.4659 16.4422 30.6534C16.6376 30.8409 16.9025 30.9463 17.1788 30.9463C17.4551 30.9463 17.72 30.8409 17.9154 30.6534C18.1107 30.4659 18.2205 30.2115 18.2205 29.9463C18.2205 29.1506 18.5497 28.3876 19.1358 27.825C19.7218 27.2624 20.5167 26.9463 21.3455 26.9463H29.6788C30.2313 26.9463 30.7612 26.7356 31.1519 26.3605C31.5426 25.9854 31.7621 25.4767 31.7621 24.9463V8.94629C31.7621 8.41586 31.5426 7.90715 31.1519 7.53208C30.7612 7.157 30.2313 6.94629 29.6788 6.94629ZM13.0121 24.9463H4.67879V8.94629H13.0121C13.8409 8.94629 14.6358 9.26236 15.2218 9.82497C15.8079 10.3876 16.1371 11.1506 16.1371 11.9463V25.9463C15.2364 25.2956 14.1393 24.9446 13.0121 24.9463ZM29.6788 24.9463H21.3455C20.2182 24.9446 19.1212 25.2956 18.2205 25.9463V11.9463C18.2205 11.1506 18.5497 10.3876 19.1358 9.82497C19.7218 9.26236 20.5167 8.94629 21.3455 8.94629H29.6788V24.9463ZM21.3455 11.9463H26.5538C26.8301 11.9463 27.095 12.0516 27.2904 12.2392C27.4857 12.4267 27.5955 12.6811 27.5955 12.9463C27.5955 13.2115 27.4857 13.4659 27.2904 13.6534C27.095 13.8409 26.8301 13.9463 26.5538 13.9463H21.3455C21.0692 13.9463 20.8042 13.8409 20.6089 13.6534C20.4135 13.4659 20.3038 13.2115 20.3038 12.9463C20.3038 12.6811 20.4135 12.4267 20.6089 12.2392C20.8042 12.0516 21.0692 11.9463 21.3455 11.9463ZM27.5955 16.9463C27.5955 17.2115 27.4857 17.4659 27.2904 17.6534C27.095 17.8409 26.8301 17.9463 26.5538 17.9463H21.3455C21.0692 17.9463 20.8042 17.8409 20.6089 17.6534C20.4135 17.4659 20.3038 17.2115 20.3038 16.9463C20.3038 16.6811 20.4135 16.4267 20.6089 16.2392C20.8042 16.0516 21.0692 15.9463 21.3455 15.9463H26.5538C26.8301 15.9463 27.095 16.0516 27.2904 16.2392C27.4857 16.4267 27.5955 16.6811 27.5955 16.9463ZM27.5955 20.9463C27.5955 21.2115 27.4857 21.4659 27.2904 21.6534C27.095 21.8409 26.8301 21.9463 26.5538 21.9463H21.3455C21.0692 21.9463 20.8042 21.8409 20.6089 21.6534C20.4135 21.4659 20.3038 21.2115 20.3038 20.9463C20.3038 20.6811 20.4135 20.4267 20.6089 20.2392C20.8042 20.0516 21.0692 19.9463 21.3455 19.9463H26.5538C26.8301 19.9463 27.095 20.0516 27.2904 20.2392C27.4857 20.4267 27.5955 20.6811 27.5955 20.9463Z"
      fill={isActive ? "#4995FF" : "#9b9b9bff"}
    />
  </svg>
);

// Компонент для иконки Поиска
const SearchIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="38" height="37" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M14.1398 21.2305C14.1398 22.2194 13.8344 23.1861 13.2621 24.0083C12.6898 24.8306 11.8763 25.4714 10.9246 25.8499C9.97292 26.2283 8.9257 26.3273 7.91539 26.1344C6.90507 25.9415 5.97703 25.4653 5.24863 24.766C4.52023 24.0667 4.02419 23.1758 3.82322 22.2059C3.62226 21.236 3.7254 20.2307 4.11961 19.3171C4.51381 18.4034 5.18138 17.6225 6.03789 17.0731C6.89439 16.5237 7.90137 16.2305 8.93148 16.2305C10.3128 16.2305 11.6376 16.7573 12.6143 17.6949C13.5911 18.6326 14.1398 19.9044 14.1398 21.2305ZM25.5981 16.2305C24.568 16.2305 23.5611 16.5237 22.7046 17.0731C21.848 17.6225 21.1805 18.4034 20.7863 19.3171C20.3921 20.2307 20.2889 21.236 20.4899 22.2059C20.6909 23.1758 21.1869 24.0667 21.9153 24.766C22.6437 25.4653 23.5717 25.9415 24.5821 26.1344C25.5924 26.3273 26.6396 26.2283 27.5913 25.8499C28.543 25.4714 29.3564 24.8306 29.9287 24.0083C30.501 23.1861 30.8065 22.2194 30.8065 21.2305C30.8065 19.9044 30.2577 18.6326 29.281 17.6949C28.3042 16.7573 26.9795 16.2305 25.5981 16.2305Z"
      fill={isActive ? "#4995FF" : "none"}
      fillOpacity={isActive ? "0.3" : "1"}
    />
    <path
      d="M31.4835 19.2137C31.3965 18.9807 31.2943 18.7532 31.1775 18.5325L25.7621 6.70498C25.7109 6.59107 25.6375 6.48756 25.546 6.39998C25.1591 6.02845 24.6997 5.73373 24.1941 5.53266C23.6885 5.33158 23.1466 5.22809 22.5994 5.22809C22.0521 5.22809 21.5102 5.33158 21.0046 5.53266C20.499 5.73373 20.0397 6.02845 19.6528 6.39998C19.4581 6.58707 19.3485 6.84055 19.3481 7.10498V10.23H15.1814V7.10498C15.1815 6.97362 15.1547 6.84353 15.1024 6.72213C15.0501 6.60074 14.9734 6.49042 14.8767 6.39748C14.4898 6.02595 14.0304 5.73123 13.5248 5.53016C13.0192 5.32908 12.4774 5.22559 11.9301 5.22559C11.3828 5.22559 10.8409 5.32908 10.3354 5.53016C9.82978 5.73123 9.3704 6.02595 8.98348 6.39748C8.89192 6.48506 8.81857 6.58857 8.76734 6.70248L3.35197 18.53C3.23516 18.7507 3.13296 18.9782 3.04598 19.2112C2.73934 20.0349 2.624 20.913 2.70804 21.7839C2.79208 22.6549 3.07347 23.4977 3.5325 24.2533C3.99152 25.0089 4.61708 25.659 5.36536 26.158C6.11363 26.6571 6.96652 26.9931 7.86428 27.1424C8.76204 27.2918 9.68296 27.2509 10.5625 27.0226C11.4421 26.7943 12.259 26.3842 12.9561 25.8209C13.6532 25.2576 14.2135 24.5549 14.5979 23.7618C14.9823 22.9688 15.1815 22.1047 15.1814 21.23V12.23H19.3481V21.23C19.3476 22.1048 19.5464 22.9691 19.9306 23.7624C20.3147 24.5556 20.8749 25.2587 21.5719 25.8222C22.2689 26.3857 22.0858 26.7961 23.9654 27.0247C24.845 27.2532 25.766 27.2943 26.6639 27.1451C27.5618 26.9959 28.4149 26.6601 29.1633 26.1611C29.9117 25.662 30.5375 25.0119 30.9966 24.2563C31.4558 23.5007 31.7373 22.6578 31.8214 21.7867C31.9055 20.9157 31.7902 20.0375 31.4835 19.2137ZM10.5863 7.69873C10.9336 7.41801 11.3669 7.25388 11.8203 7.23132C12.2737 7.20875 12.7224 7.32899 13.0981 7.57373V16.7625C12.2848 16.0614 11.2939 15.5778 10.2246 15.3602C9.15533 15.1426 8.04526 15.1985 7.00562 15.5225L10.5863 7.69873ZM8.9314 25.23C8.10731 25.23 7.30173 24.9954 6.61652 24.5559C5.93132 24.1163 5.39726 23.4916 5.0819 22.7607C4.76653 22.0298 4.68402 21.2255 4.84479 20.4496C5.00556 19.6737 5.4024 18.961 5.98512 18.4016C6.56784 17.8421 7.31027 17.4612 8.11852 17.3068C8.92678 17.1525 9.76455 17.2317 10.5259 17.5345C11.2873 17.8372 11.938 18.3499 12.3959 19.0077C12.8537 19.6655 13.0981 20.4389 13.0981 21.23C13.0981 22.2908 12.6591 23.3083 11.8777 24.0584C11.0963 24.8086 10.0365 25.23 8.9314 25.23ZM21.4314 7.57248C21.8071 7.32774 22.2557 7.2075 22.7091 7.23007C23.1625 7.25263 23.5958 7.41676 23.9431 7.69748L27.5238 15.52C26.4841 15.1962 25.374 15.1405 24.3047 15.3583C23.2354 15.5762 22.2446 16.06 21.4314 16.7612V7.57248ZM25.5981 25.23C24.774 25.23 23.9684 24.9954 23.2832 24.5559C22.598 24.1163 22.0639 23.4916 21.7486 22.7607C21.4332 22.0298 21.3507 21.2255 21.5115 20.4496C21.6722 19.6737 22.0691 18.961 22.6518 18.4016C23.2345 17.8421 23.9769 17.4612 24.7852 17.3068C25.5934 17.1525 26.4312 17.2317 27.1926 17.5345C27.9539 17.8372 28.6047 18.3499 29.0625 19.0077C29.5204 19.6655 29.7647 20.4389 29.7647 21.23C29.7647 22.2908 29.3257 23.3083 28.5443 24.0584C27.7629 24.8086 26.7031 25.23 25.5981 25.23Z"
      fill={isActive ? "#4995FF" : "#9b9b9bff"}
    />
  </svg>
);

// Компонент для иконки Достижений
const AchievementsIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="38" height="37" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M26.3967 7.32617V14.2137C26.3967 19.1762 22.2626 23.2887 17.0933 23.3262C15.8562 23.3352 14.6294 23.1091 13.4837 22.6609C12.338 22.2127 11.296 21.5512 10.4179 20.7146C9.53972 19.8779 8.84276 18.8827 8.36715 17.7863C7.89154 16.6898 7.64669 15.5139 7.64673 14.3262V7.32617C7.64673 7.06096 7.75648 6.8066 7.95183 6.61907C8.14718 6.43153 8.41213 6.32617 8.6884 6.32617H25.3551C25.6313 6.32617 25.8963 6.43153 26.0916 6.61907C26.287 6.8066 26.3967 7.06096 26.3967 7.32617Z"
      fill={isActive ? "#4995FF" : "none"}
      fillOpacity={isActive ? "0.3" : "1"}
    />
    <path
      d="M30.5634 8.32617H27.4384V7.32617C27.4384 6.79574 27.2189 6.28703 27.8282 5.91196C26.4375 5.53689 25.9076 5.32617 25.3551 5.32617H8.6884C8.13586 5.32617 7.60596 5.53689 7.21526 5.91196C6.82456 6.28703 6.60506 6.79574 6.60506 7.32617V8.32617H3.48006C2.92753 8.32617 2.39762 8.53689 2.00692 8.91196C1.61622 9.28703 1.39673 9.79574 1.39673 10.3262V12.3262C1.39673 13.6523 1.94546 14.924 2.92221 15.8617C3.40585 16.326 3.98001 16.6943 4.61192 16.9456C5.24382 17.1968 5.92109 17.3262 6.60506 17.3262H7.08032C7.69393 19.1929 8.86387 20.8462 10.4456 22.0816C12.0273 23.317 13.9514 24.0804 15.9801 24.2774V27.3262H12.8551C12.5788 27.3262 12.3138 27.4315 12.1185 27.6191C11.9231 27.8066 11.8134 28.061 11.8134 28.3262C11.8134 28.5914 11.9231 28.8457 12.1185 29.0333C12.3138 29.2208 12.5788 29.3262 12.8551 29.3262H21.1884C21.4647 29.3262 21.7296 29.2208 21.925 29.0333C22.1203 28.8457 22.2301 28.5914 22.2301 28.3262C22.2301 28.061 22.1203 27.8066 21.925 27.6191C21.7296 27.4315 21.4647 27.3262 21.1884 27.3262H18.0634V24.2737C22.2223 23.8699 25.6728 21.0687 26.928 17.3262H27.4384C28.8197 17.3262 30.1445 16.7994 31.1212 15.8617C32.098 14.924 32.6467 13.6523 32.6467 12.3262V10.3262C32.6467 9.79574 32.4272 9.28703 32.0365 8.91196C31.6458 8.53689 31.1159 8.32617 30.5634 8.32617ZM6.60506 15.3262C5.77626 15.3262 4.9814 15.0101 4.39535 14.4475C3.8093 13.8849 3.48006 13.1218 3.48006 12.3262V10.3262H6.60506V14.3262C6.60506 14.6595 6.62199 14.9928 6.65584 15.3262H6.60506ZM25.3551 14.2137C25.3551 18.6537 21.6454 22.2937 17.0855 22.3262H17.0217C14.8116 22.3262 12.692 21.4833 11.1292 19.983C9.56637 18.4827 8.6884 16.4479 8.6884 14.3262V7.32617H25.3551V14.2137ZM30.5634 12.3262C30.5634 13.1218 30.2342 13.8849 29.6481 14.4475C29.0621 15.0101 28.2672 15.3262 27.4384 15.3262H27.3733C27.416 14.9567 27.4378 14.5854 27.4384 14.2137V10.3262H30.5634V12.3262Z"
      fill={isActive ? "#4995FF" : "#9b9b9bff"}
    />
  </svg>
);

// Компонент для иконки Профиля
const ProfileIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="38" height="36" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M29.625 15.9996C29.6269 17.6825 29.2591 19.3469 28.5456 20.8841C27.8321 22.4213 26.789 23.7968 25.4844 24.9209C24.7 23.4397 23.5038 22.196 22.0284 21.3274C20.5529 20.4588 18.8558 19.9992 17.125 19.9996C18.1551 19.9996 19.1621 19.7064 20.0186 19.157C20.8751 18.6076 21.5427 17.8267 21.9369 16.913C22.3311 15.9994 22.4342 14.9941 22.2333 14.0242C22.0323 13.0543 21.5362 12.1634 20.8079 11.4641C20.0795 10.7648 19.1514 10.2886 18.1411 10.0957C17.1308 9.90277 16.0836 10.0018 15.1319 10.3802C14.1802 10.7587 13.3667 11.3995 12.7944 12.2218C12.2221 13.044 11.9167 13.0107 11.9167 14.9996C11.9167 16.3257 12.4654 17.5975 13.4422 18.5352C14.4189 19.4728 15.7437 19.9996 17.125 19.9996C15.3942 19.9992 13.6971 20.4588 12.2216 21.3274C10.7462 22.196 9.55001 23.4397 8.76563 24.9209C7.21648 23.5832 6.04022 21.895 5.34383 20.0097C4.64743 18.1245 4.45299 16.102 4.77817 14.1262C5.10336 12.1504 5.93786 10.2841 7.20579 8.69676C8.47373 7.10946 10.1349 5.85162 12.0382 5.03761C13.9414 4.2236 16.0265 3.87925 18.1037 4.03587C20.181 4.19249 22.1845 4.84511 23.932 5.93439C25.6796 7.02367 27.1158 8.51505 28.1101 10.2729C29.1044 12.0308 29.6251 13.9993 29.625 15.9996Z"
      fill={isActive ? "#4995FF" : "none"}
      fillOpacity={isActive ? "0.3" : "1"}
    />
    <path
      d="M17.1249 3C14.4466 3 11.8285 3.76244 9.60158 5.1909C7.37466 6.61935 5.63899 8.64968 4.61406 11.0251C3.58912 13.4006 3.32095 16.0144 3.84346 18.5362C4.36597 21.0579 5.65568 23.3743 7.54952 25.1924C9.44336 27.0105 11.8563 28.2486 14.4831 28.7502C17.1099 29.2518 19.8327 28.9944 22.3071 28.0104C24.7815 27.0265 26.8964 25.3603 28.3844 23.2224C29.8724 21.0846 30.6666 18.5712 30.6666 16C30.6628 12.5533 29.2349 9.24882 26.6961 6.81163C24.1574 4.37445 20.7152 3.00364 17.1249 3ZM10.1041 24.6875C10.8577 23.5561 11.8958 22.625 13.1227 21.9801C14.3497 21.3351 15.7261 20.9971 17.1249 20.9971C18.5238 20.9971 19.9001 21.3351 21.1271 21.9801C22.3541 22.625 23.3922 23.5561 24.1458 24.6875C22.1384 26.1862 19.6679 26.9999 17.1249 26.9999C14.5819 26.9999 12.1115 26.1862 10.1041 24.6875ZM12.9583 15C12.9583 14.2089 13.2026 13.4355 13.6605 12.7777C14.1183 12.1199 14.7691 11.6072 15.5304 11.3045C16.2918 11.0017 17.1295 10.9225 17.9378 11.0769C18.7461 11.2312 19.4885 11.6122 20.0712 12.1716C20.6539 12.731 21.0508 13.4437 21.2115 14.2196C21.3723 14.9956 21.2898 15.7998 20.9744 16.5307C20.6591 17.2616 20.125 17.8864 19.4398 18.3259C18.7546 18.7654 17.949 19 17.1249 19C16.0199 19 14.96 18.5786 14.1786 17.8284C13.3972 17.0783 12.9583 16.0609 12.9583 15ZM25.6874 23.3013C24.5257 21.6851 22.8921 20.4348 20.9921 19.7075C22.0127 18.9358 22.7574 17.878 23.1227 16.6811C23.4881 15.4843 23.4558 14.2079 23.0304 13.0294C22.605 11.851 21.8077 10.8291 20.7493 10.1059C19.6909 9.38262 18.4241 8.99397 17.1249 8.99397C15.8258 8.99397 14.5589 9.38262 13.5005 10.1059C12.4421 10.8291 11.6448 11.851 11.2194 13.0294C10.7941 14.2079 10.7618 15.4843 11.1271 16.6811C11.4924 17.878 12.2371 18.9358 13.2577 19.7075C11.3578 20.4348 9.72418 21.6851 8.56243 23.3013C7.09441 21.7165 6.13491 19.7581 5.79946 17.6619C5.46401 15.5657 5.76791 13.4211 6.67169 11.4864C7.57647 9.55163 9.04455 7.90922 10.8991 6.75692C12.7537 5.60462 14.9158 4.99156 17.1249 4.99156C19.3341 4.99156 21.4961 5.60462 23.3507 6.75692C25.2053 7.90922 26.6734 9.55163 27.5782 11.4864C28.4829 13.4211 28.7858 15.5657 28.4504 17.6619C28.1149 19.7581 27.1554 21.7165 25.6874 23.3013Z"
      fill={isActive ? "#4995FF" : "#9b9b9bff"}
    />
  </svg>
);

interface TabNavigationProps {
  activeTab: string
  onTabChange: (tab: string) => void
}

const tabs = [
  { id: 'main', icon: MenuIcon },
  { id: 'theory', icon: SearchIcon },
  { id: 'achievements', icon: AchievementsIcon },
  { id: 'profile', icon: ProfileIcon },
]

export function TabNavigation({ activeTab, onTabChange }: TabNavigationProps) {
  return (
    <nav className="fixed bottom-0 left-0 right-0 bg-white z-50 rounded-t-[2rem]">
      <div className="flex items-center justify-around px-4 py-6 max-w-md mx-auto">
        {tabs.map(({ id, icon: Icon }) => (
          <button
            key={id}
            onClick={() => onTabChange(id)}
            className={cn(
              "flex flex-col items-center rounded-lg transition-all duration-300",
              "hover:bg-primary/0 -mt-2",
              activeTab === id 
                ? "text-primary" 
                : "text-muted-foreground"
            )}
          >
            <Icon isActive={activeTab === id} />
          </button>
        ))}
      </div>
    </nav>
  )
}